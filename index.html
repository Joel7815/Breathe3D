<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application de Respiration</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="homePage">
        <button id="infoButton">i</button>
        <h1 style="text-align: center;">Breathe 3D</h1>
        <div class="button-container">
            <button class="exercise-button" data-exercise="squareBreathing">Square Breathing</button>
            <button class="exercise-button" data-exercise="balancedBreathing">Balanced Breathing</button>
            <button class="exercise-button" data-exercise="sleepBreathing">Sleep Breathing</button>
        </div>
        <div id="infoBox" style="display: none; position: absolute; background: rgba(0, 0, 0, 0.7); color: white; padding: 10px; border-radius: 5px; z-index: 100;">
            <p id="infoText"></p>
        </div>
    </div>

    <div id="exercisePage" style="display: none;">
        <button id="backButton">⬅ Back</button>
        <div class="container">
            <canvas id="canvas"></canvas>
            <div id="counter"></div>
            <div id="instruction"></div>
        </div>
    </div>

    <div id="configModal" class="modal">
        <div class="modal-content">
            <h2>Configure your exercise</h2>
            
            <div class="config-section">
                <h3>Exercise duration</h3>
                <div class="duration-buttons">
                    <button class="duration-btn" data-duration="30">30 sec</button>
                    <button class="duration-btn" data-duration="60">1 min</button>
                    <button class="duration-btn" data-duration="90">1m30</button>
                    <button class="duration-btn" data-duration="120">2 min</button>
                    <button class="duration-btn" data-duration="300">5 min</button>
                    <button class="duration-btn" data-duration="600">10 min</button>
                    <button class="duration-btn" data-duration="-1">∞ Infinite</button>
                </div>
            </div>

            <div class="config-section">
                <h3>Ambient music</h3>
                <select id="ambientMusic">
                    <option value="">No music</option>
                    <option value="rain">Rain</option>
                    <option value="waves">Waves</option>
                    <option value="forest">Forest</option>
                    <option value="whitenoise">White noise</option>
                </select>
            </div>

            <div class="modal-buttons">
                <button id="startExerciseBtn">Start exercise</button>
                <button id="cancelExerciseBtn">Cancel</button>
            </div>
        </div>
    </div>

    <div id="infoModal">
        <button id="infoBackButton">⬅ Back</button>
        <h2>Breathing Exercises Guide</h2>
        
        <div class="exercise-info">
            <h3>Square Breathing</h3>
            <p>A technique used by Navy SEALs to reduce stress and improve concentration. This exercise follows a 4-4-4-4 pattern: inhale for 4 seconds, hold for 4 seconds, exhale for 4 seconds, and hold again for 4 seconds.</p>
        </div>
        
        <div class="exercise-info">
            <h3>Balanced Breathing</h3>
            <p>A simple yet effective technique that helps balance the nervous system and reduce anxiety. It consists of equal-length inhales and exhales, creating a natural rhythm that promotes relaxation and mental clarity.</p>
        </div>
        
        <div class="exercise-info">
            <h3>Sleep Breathing</h3>
            <p>Designed to help you fall asleep naturally by slowing down your breathing rate. This exercise uses a longer exhale than inhale to activate the parasympathetic nervous system, promoting deep relaxation and preparing your body for sleep.</p>
        </div>
    </div>

    <script type="module" src="./exerciseManager.js"></script>
</body>
</html>
